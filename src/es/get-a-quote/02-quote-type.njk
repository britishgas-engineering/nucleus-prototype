<ns-landmark type="lakeside">
  <h1 slot="heading">
    <span class="h1">A bit about your property</span>
  </h1>
  <p slot="paragraph">This will help us make switching run smoothly</p>
</ns-landmark>

<ns-panel>
  <ns-form class="splash" nf-model="model.get-a-quote">
    <ns-inputter validation="[&quot;isRequired&quot;]" heading="What would you like a quote for?" name="quote-type" value="">
      <input type="radio" id="radio-b-1" name="radio-b" value="Gas and electricity" checked>
      <label for="radio-b-1">Gas and electricity</label>
      <input type="radio" id="radio-b-2" name="radio-b" value="Gas">
      <label for="radio-b-2">Gas</label>
      <input type="radio" id="radio-b-3" name="radio-b" value="Electricity">
      <label for="radio-b-3">Electricity</label>
    </ns-inputter>

    <ns-fieldset legend="What's your address?">
      <span>We need your address as prices may vary by region.</span>
      <nsx-address-selector></nsx-address-selector>
    </ns-fieldset>

    <ns-cta id="confirm-address-button" nf-href="../03-meter-type">Continue</ns-cta>

  </ns-form>
</ns-panel>

<script>
  
  document.querySelector('#confirm-address-button').setAttribute('style', 'display: none');

  // Hide submit button
  // document.querySelector('#confirm-address-button').setAttribute('style', 'display: none');
  var addresses = [{
    "label": "129 Queenstown Rd, Battersea, London"
  }, {
    "label": "131 Queenstown Rd, Battersea, London"
  }, {
    "label": "133 Queenstown Rd, Battersea, London"
  }, {
    "label": "134 Queenstown Rd, Battersea, London"
  }, {
    "label": "135 Queenstown Rd, Battersea, London"
  }, {
    "label": "136 Queenstown Rd, Battersea, London"
  }, {
    "label": "137 Queenstown Rd, Battersea, London"
  }];
  document.querySelector('nsx-address-selector').addEventListener('postcode-selected', (event) => {
    setTimeout(() => {
      event.target.addresses = addresses;
    }, 200);
  });
  document.querySelector('nsx-address-selector').addEventListener('address-selected', (event) => {
    if (event.detail.address) {
      document.querySelector('#confirm-address-button').setAttribute('style', 'display: block');
    } else {
      document.querySelector('#confirm-address-button').setAttribute('style', 'display: none');
    }
  });
</script>
